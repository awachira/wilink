add_definitions(-DQXMPP_STREAM_LOG_PACKETS)
set(QDJANGO_DONT_INSTALL 1)
set(QDJANGO_LIBRARY_TYPE STATIC)
set(QNETIO_DONT_USE_TESTS 1)
set(QSOUND_DONT_USE_TESTS 1)
set(QXMPP_DONT_INSTALL 1)
set(QXMPP_DONT_USE_TESTS 1)
set(QXMPP_DONT_USE_VPX 1)
set(QXMPP_LIBRARY_TYPE STATIC)

add_subdirectory(data)
add_subdirectory(idle)
add_subdirectory(qdjango)
add_subdirectory(qnetio)
add_subdirectory(qsound)
add_subdirectory(qxmpp)

# FIXME: remove hard-coded paths
include_directories(${CMAKE_CURRENT_SOURCE_DIR}/qdjango/src/db)
include_directories(${CMAKE_CURRENT_SOURCE_DIR}/qxmpp/src/base)
include_directories(${CMAKE_CURRENT_SOURCE_DIR}/qxmpp/src/client)
add_subdirectory(qxmpp-extra)

add_subdirectory(app)
add_subdirectory(tests)
